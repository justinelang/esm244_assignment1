---
title: "Assignment 1 Task 1"
author: "Justine Lang"
date: "2023-02-02"
output: html_document
---

```{r setup, include=TRUE, message = FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)

library(tidyverse)
library(here)
library(janitor)
library(cowplot)
library(patchwork)
library(readxl)
library(lubridate)
```

# Task 1

## 1)

```{r}
#read in the data

amphibians <- read_xlsx(here("data", "sierra_amphibians.xlsx"))
```

```{r}
#filter data

ramu <- amphibians %>% 
  filter(amphibian_species=="RAMU", amphibian_life_stage !="EggMass") %>%
  mutate(date = ymd(survey_date)) %>% 
  mutate(year = year(date)) %>% 
  select(year, amphibian_species, amphibian_life_stage, amphibian_number, lake_id, amphibian_location) %>% 
  drop_na()

ramu_counts <- ramu %>% 
  group_by(year, amphibian_life_stage) %>% 
  summarize(count = sum(amphibian_number))
```

```{r frogs 1, fig.align='center', fig.cap="Figure 1: Total mountain yellow-legged frog (Rana muscosa) count each year (1995-2002) across all water bodies by life stage."}

ramu_counts_gg <- ggplot(data = ramu_counts, aes(fill = amphibian_life_stage, x = year, y = count, color = amphibian_life_stage)) +
  geom_col(stat = "identity", position = "dodge", color = "black") +
  labs(x = "Year", y = "Count", title = "Total Mountain Yellow-legged Frog Count", fill = "Life Stage") +
  theme_minimal() +
  theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 12),
        axis.title.x = element_text(vjust = 0.2, face = "bold", size = 10),
        axis.title.y = element_text(face = "bold", size = 10),
        legend.title = element_text(size = 8, face = "bold"),
        legend.text = element_text(size = 8),
        legend.position = "top",
        axis.text = element_text(size = 8))

ramu_counts_gg
```











